jQuery(document).ready(function(c){var a={$images_on_page:[],images_queue:[],images_done:[],images_error:[],scroll_event_interval:200,scroll_event_handler:null,scroll_event_now:!1,init:function(){a.make_events();var b=setInterval(function(){/loaded|complete/.test(document.readyState)&&(clearInterval(b),a.find_images_on_page(),a.find_images_on_windows(),c(document).on("ajaxComplete",a.find_images_on_page),c(document).on("ajaxComplete",a.find_images_on_windows))},400)},make_events:function(){c(window).scroll(function(b){a.scroll_event_now||
(a.scroll_event_now=!0,clearTimeout(a.scroll_event_handler),a.scroll_event_handler=setTimeout(function(){a.find_images_on_windows();a.scroll_event_now=!1},a.scroll_event_interval))})},find_images_on_page:function(){a.$images_on_page=[];c("img[data-src-defer]").each(function(){a.$images_on_page.push(c(this));a.set_image_aspect(c(this))})},find_images_on_windows:function(){var b=c(window).scrollTop()+window.innerHeight,d;for(d in a.$images_on_page){var e=a.$images_on_page[d];e.offset().top<b+e.height()+
100&&(a.images_queue.push(a.$images_on_page[d]),a.load_image(a.$images_on_page[d]),delete a.$images_on_page[d])}},load_image:function(b){b.addClass("hiweb-theme-imagesDefer-image");var a=new Image;a.onload=function(){b.attr("src",b.attr("data-src-defer"));b.removeAttr("data-src-defer");b.attr("srcset",b.attr("data-srcset-defer"));b.removeAttr("data-srcset-defer");b.css("width","").css("height","");b.removeClass("hiweb-theme-imagesDefer-image")};a.src=b.attr("data-src-defer")},set_image_aspect:function(a){if("absolute"!==
a.css("position")){var b=a.width()/a.height(),c=parseFloat(a.attr("data-aspect"));c>b?a.height(a.width()/c):a.width(a.height()*c)}}};a.init()});
