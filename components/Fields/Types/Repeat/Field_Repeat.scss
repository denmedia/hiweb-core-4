@import "../../css/Fields_UI";

.hiweb-field-type-repeat {

	.hiweb-field-type-repeat {
		margin-bottom: .4em;
	}

	.ctrl-button {
		width: 16px;
		height: 18px;
		cursor: pointer;
		margin-bottom: 4px;
		display: inline-block;
		text-align: center;
		padding: .2em .4em;

		&:focus {
			outline: none;
			stroke: none;
			@include box-shadow(none);
		}

		svg {
			max-width: 100%;
			max-height: 100%;
			min-width: 16px;
			min-height: 16px;
		}
	}

	table.hiweb-field-type-repeat-table {
		@include fields_ui_panel;
		padding: 0;
		border-collapse: collapse;
		@include transition(transform, .5s);

		thead, tfoot {
			th {
				background-color: $fields_color_grey_white;
				padding: .2em;
				font-size: 14px;
				font-weight: 500;
				line-height: 1.1;
				min-height: 16px;
				border-bottom: 1px solid $fields_color_grey_lighten;

				.description {
					font-weight: lighter;
					margin: 0;
					font-size: 12px;
				}
			}
		}

		thead {

		}

		tbody[data-rows_message] {
			text-align: center;

			[data-row_empty="1"] {
				padding: 2em 0;
				display: none;
			}
		}

		[data-ctrl_wrap] {
			text-align: right;
			width: 28px;
		}

		tbody[data-rows_list] {

			tr {

				@include transition((transform, opacity, box-shadow, filter, background), 500ms);
				//background-color: rgba($fields_color_panel_bg, .9);

				td {
					vertical-align: top;
					padding: .2em;
					border-bottom: 1px solid $fields_color_grey_lighten;
					border-right: 1px dotted $fields_color_grey_white;

					.hiweb-field-type-repeat-col-inner {
						//overflow: hidden;

						[data-col] {
							margin-bottom: .4em;

							&:last-child {
								margin-bottom: .1em;
							}
						}
					}
				}

				[data-drag-handle] {
					cursor: move;
					width: 16px;
					text-align: center;

					button, i, svg {
						cursor: move;
						width: 12px;
						height: 20px;
					}

					i {
						opacity: 0.5;
					}

					&:hover i {
						opacity: 1;
					}
				}


				&.ui-sortable-helper {
					border: 1px solid $fields_color_main;
					cursor: move;
					@include transition((transform, opacity, box-shadow, filter), 200ms);
					transform: scale(1.02);
					z-index: 10000 !important;
					@include box-shadow(25px, 0.2, 8px, 14px);
					background-color: rgba($fields_color_panel_bg, .1);
					-webkit-backdrop-filter: saturate(180%) brightness(120%) blur(10px);
					backdrop-filter: saturate(180%) brightness(120%) blur(10px);

					.hiweb-field-type-repeat-col-inner {
						@include opacity(.25);
					}

				}
			}
		}

		table.hiweb-field-type-repeat-table {
			tfoot [data-col] {
				text-indent: -9999px;
			}
		}

	}

	.ui-sortable-placeholder td {
		visibility: visible !important;
		background: $fields_color_grey_lighten url(../../../../assets/img/pattern-2.png);
		border: 1px solid $fields_color_grey_lighten;
		border-top: none;
	}

	.flex-label {
		font-weight: 500;
		font-size: 12px;
		margin-bottom: .2em;
		color: $fields_color_grey;
	}

	.hiweb-field-repeat-flex {
		@include fields_ui_panel;
		width: 100%;
		padding: 0;
		border-collapse: collapse;
		background-color: transparent;

		td {
			vertical-align: top;

			[data-col] {
				padding-bottom: .4em;
				//border-bottom: 1px dotted $fields_color_border;
				margin-bottom: .4em;

				&:last-child {
					padding-bottom: 0;
					border-bottom: none;
					margin-bottom: 0;
				}
			}

		}

		.hiweb-field-repeat-flex-header {
			border-bottom: none;

			svg, i {
				display: inline-block;
				max-width: 20px;
				max-height: 20px;
				width: auto;
				vertical-align: middle;
			}
		}

		.flex-description {
			font-weight: 100;
			font-size: .7em;
			line-height: 1;
			color: $fields_color_grey_dark;
		}

	}

}