var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(b,a,c){b instanceof String&&(b=String(b));for(var d=b.length,e=0;e<d;e++){var g=b[e];if(a.call(c,g,e,b))return{i:e,v:g}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(b,a,c){b!=Array.prototype&&b!=Object.prototype&&(b[a]=c.value)};$jscomp.getGlobal=function(b){return"undefined"!=typeof window&&window===b?b:"undefined"!=typeof global&&null!=global?global:b};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(b,a,c,d){if(a){c=$jscomp.global;b=b.split(".");for(d=0;d<b.length-1;d++){var e=b[d];e in c||(c[e]={});c=c[e]}b=b[b.length-1];d=c[b];a=a(d);a!=d&&null!=a&&$jscomp.defineProperty(c,b,{configurable:!0,writable:!0,value:a})}};$jscomp.polyfill("Array.prototype.find",function(b){return b?b:function(b,c){return $jscomp.findInternal(this,b,c).v}},"es6","es3");
var hiweb_feild_type_images=function(b){var a=jQuery(b);0<a.closest(".hiweb-field-type-images").length&&(a=a.closest(".hiweb-field-type-images"));if(!a.is(".hiweb-field-type-images-init")){a.addClass("hiweb-field-type-images-init");var c=a.find("[data-source-image]"),d=a.find("[data-images-wrap]"),e=function(){var b=d.find("[data-item-image]").length;a.attr("data-images-count",b);24<b?a.attr("data-images-count-id","many"):12<b?a.attr("data-images-count-id","medium"):a.attr("data-images-count-id",
"low");"function"===typeof d.sortable&&d.sortable({items:"[data-item-image]",distance:5,cursor:"move",helper:"original",tolerance:"pointer",revert:!0})};e();var g=function(b){var a=wp.media({title:"\u0412\u044b\u0431\u043e\u0440 \u0444\u0430\u0439\u043b\u0430",multiple:!0,button:{text:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0444\u0430\u0439\u043b"},library:{type:"image"}});a.on("select",function(){a.state().get("selection").forEach(function(a,h){a=a.toJSON();if(a.hasOwnProperty("id")){var l=
h="",m="";a.hasOwnProperty("icon")&&(h=a.icon);if(a.hasOwnProperty("sizes"))if(a.sizes.hasOwnProperty("medium"))h=a.sizes.medium.url;else if(a.sizes.hasOwnProperty("thumbnail"))h=a.sizes.thumbnail.url;else for(var f in a.sizes){h=a.sizes[f].url;break}a.hasOwnProperty("editLink")&&(l=a.editLink);a.hasOwnProperty("url")&&(m=a.url);f=c.clone(!0);f.removeAttr("data-source-image").attr("data-item-image",a.id).attr("data-attachment-id",a.id).css({"background-image":"url("+h+")"});f.find('[data-link="edit_link"]').attr("href",
l);f.find('[data-link="url"]').attr("href",m);f.find("input").val(a.id);0>b?d.find('[data-image-plus="1"]').before(f):d.find('[data-image-plus="0"]').after(f);e()}});e()});a.open()};a.on("click","[data-click]",function(a){a.preventDefault()}).on("click",'[data-click="add"]',function(a){a=jQuery(a.target).closest("[data-click]").attr("data-add-index");g(a)}).on("click",'[data-click="revert"]',function(){}).on("click",'[data-click="shuffle"]',function(){var a=d.find("[data-item-image]"),b,c=a.length,
e=a.parent(),k=[];for(b=0;b<c;b++)k.push(b);for(b=0;b<c;b++){var g=Math.random()*c|0;var f=Math.random()*c|0;var n=k[g];k[g]=k[f];k[f]=n}a.detach();for(b=0;b<c;b++)e.append(a.eq(k[b]))}).on("click",'[data-click="clear"]',function(){d.find("[data-item-image]").slideUp(500,function(){d.attr("style","");d.find("[data-item-image]").remove();e()})}).on("click",'[data-click="edit"]',function(){}).on("click",'[data-click="remove"]',function(a){var b=jQuery(a.target).closest("[data-item-image]");b.fadeOut(500,
function(){b.remove();e()})})}};jQuery("body").on("hiweb-form-ajax-loaded hiweb-field-repeat-added-row",".hiweb-components-form-ajax-wrap",function(){jQuery(this).find(".hiweb-field-type-images").each(function(){hiweb_feild_type_images(this)})}).find(".hiweb-field-type-images").each(function(){hiweb_feild_type_images(this)});
