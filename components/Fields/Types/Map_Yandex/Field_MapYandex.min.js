var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(a,b,c){a instanceof String&&(a=String(a));for(var d=a.length,e=0;e<d;e++){var f=a[e];if(b.call(c,f,e,a))return{i:e,v:f}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(a,b,c,d){if(b){c=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];e in c||(c[e]={});c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})}};$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,c){return $jscomp.findInternal(this,a,c).v}},"es6","es3");
var hiweb_field_map_yandex={default_lat_long:[55.76,37.64],maps:{},points:{},init:function(){jQuery(".hiweb-field-map-yandex").each(function(){var a=jQuery(this).attr("id");hiweb_field_map_yandex.make(a)});jQuery("body").on("hiweb-field-repeat-added-new-row","[data-col]",function(a,b,c,d){b.find(".hiweb-field-map-yandex").each(function(){var a=jQuery(this).attr("id");hiweb_field_map_yandex.make(a)})})},make:function(a){hiweb_field_map_yandex.maps[a]=new ymaps.Map(a+"-map",{center:hiweb_field_map_yandex.default_lat_long,
zoom:7});hiweb_field_map_yandex.maps[a].events.add("click",function(b){hiweb_field_map_yandex.set_value_make_point(a,b.get("coords"),hiweb_field_map_yandex.maps[a].getZoom())});hiweb_field_map_yandex.maps[a].events.add("boundschange",function(b){jQuery('.hiweb-field-map-yandex[id="'+a+'"] input[name]').eq(2).val(b.get("newZoom"))});var b=jQuery('.hiweb-field-map-yandex[id="'+a+'"] input[name]'),c=parseFloat(b.eq(0).val()),d=parseFloat(b.eq(1).val());b=parseFloat(b.eq(2).val());isNaN(c)||isNaN(d)||
(hiweb_field_map_yandex._set_point_coords(a,[c,d]),hiweb_field_map_yandex.maps[a].setCenter([c,d]),isNaN(b)||hiweb_field_map_yandex.maps[a].setZoom(b,{duration:1E3}))},set_value_make_point:function(a,b,c){0>hiweb_field_map_yandex.maps.hasOwnProperty(a)?console.warn("\u041e\u0448\u0438\u0431\u043a\u0430 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0438 \u0434\u0430\u043d\u043d\u044b\u0445 \u0432 \u0444\u043e\u0440\u043c\u0435 \u043a\u0430\u0440\u0442\u044b"):0>b.hasOwnProperty(0)||0>b.hasOwnProperty(1)?
console.warn(["\u041d\u0435 \u0432\u0435\u0440\u043d\u043e \u043f\u0435\u0440\u0435\u0434\u0430\u043d\u044b \u043a\u043e\u043e\u0434\u0438\u043d\u0430\u0442\u044b \u0434\u043b\u044f \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0438 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0439",b]):(hiweb_field_map_yandex._set_value(a,b,c),hiweb_field_map_yandex._set_point_coords(a,b))},_set_value:function(a,b,c){a=jQuery('.hiweb-field-map-yandex[id="'+a+'"] input[name]');a.eq(0).val(b[0]);a.eq(1).val(b[1]);
a.eq(2).val(c)},_set_point_coords:function(a,b){hiweb_field_map_yandex.points.hasOwnProperty(a)?hiweb_field_map_yandex.points[a].geometry.setCoordinates(b):(hiweb_field_map_yandex.points[a]=new ymaps.Placemark(b,{balloonContent:"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u0430\u044f \u0442\u043e\u0447\u043a\u0430"},{preset:"islands#blueDeliveryIcon",draggable:!0}),hiweb_field_map_yandex.points[a].events.add("dragend",function(b){hiweb_field_map_yandex._set_value(a,b.get("target").geometry.getCoordinates())}),
hiweb_field_map_yandex.maps[a].geoObjects.add(hiweb_field_map_yandex.points[a]))}};ymaps.ready(hiweb_field_map_yandex.init);
