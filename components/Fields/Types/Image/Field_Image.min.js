var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(a,b,d){a instanceof String&&(a=String(a));for(var c=a.length,e=0;e<c;e++){var f=a[e];if(b.call(d,f,e,a))return{i:e,v:f}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,d){a!=Array.prototype&&a!=Object.prototype&&(a[b]=d.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(a,b,d,c){if(b){d=$jscomp.global;a=a.split(".");for(c=0;c<a.length-1;c++){var e=a[c];e in d||(d[e]={});d=d[e]}a=a[a.length-1];c=d[a];b=b(c);b!=c&&null!=b&&$jscomp.defineProperty(d,a,{configurable:!0,writable:!0,value:b})}};$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,d){return $jscomp.findInternal(this,a,d).v}},"es6","es3");
var hiweb_field_type_image={init:function(a){var b=jQuery(a);b.is(".hiweb-field-type-image")||(b=b.closest(".hiweb-field-type-image"));0===b.length||b.is(".hiweb-field-type-image-init")||(b.addClass("hiweb-field-type-image-init"),b.on("click","[data-click]",function(a){a.preventDefault();switch(jQuery(this).attr("data-click")){case "select":hiweb_field_type_image.click_wp_media(b);break;case "remove":b.find("[data-image-place]").css({"background-image":""});b.attr("data-has-file","0").find("input[name]").val("");
break;case "edit":hiweb_field_type_image.click_wp_media(b)}}))},click_wp_media:function(a){var b=wp.media({title:"\u0412\u044b\u0431\u043e\u0440 \u0444\u0430\u0439\u043b\u0430",multiple:!1,button:{text:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0444\u0430\u0439\u043b"},library:{type:"image"}}),d=a.find("input[name]");if(""!=d.val())b.on("open",function(){var a=b.state().get("selection");attachment=wp.media.attachment(d.val());attachment.fetch();a.add(attachment?[attachment]:[])});b.on("select",
function(){b.state().get("selection").forEach(function(c,b){c=c.toJSON();if(c.hasOwnProperty("id")){var d=b="",e="";c.hasOwnProperty("icon")&&(b=c.icon);if(c.hasOwnProperty("sizes")){c.sizes.hasOwnProperty("medium")?b=c.sizes.medium.url:c.sizes.hasOwnProperty("thumbnail")&&(b=c.sizes.thumbnail.url);for(var g in c.sizes)if(c.sizes[g].width>=a.width()){b=c.sizes[g].url;break}}if(c.icon===b)for(var h in c.sizes){b=c.sizes[h].url;break}c.hasOwnProperty("editLink")&&(d=c.editLink);c.hasOwnProperty("url")&&
(e=c.url);a.find("[data-image-place]").css({"background-image":"url("+b+")"});a.attr("data-file-mime",c.mime).attr("data-has-file","1").attr("data-attachment-id",c.id);a.find('[data-link="edit_link"]').attr("href",d);a.find('[data-link="url"]').attr("href",e);a.find("input").val(c.id)}})});b.open()}};jQuery("body").on("hiweb-form-ajax-loaded hiweb-field-repeat-added-row",".hiweb-components-form-ajax-wrap",function(){jQuery(this).find(".hiweb-field-type-image").each(function(){hiweb_field_type_image.init(this)})}).find(".hiweb-field-type-image").each(function(){hiweb_field_type_image.init(this)});
