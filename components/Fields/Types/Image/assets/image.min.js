var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(a,c,d){a instanceof String&&(a=String(a));for(var b=a.length,e=0;e<b;e++){var f=a[e];if(c.call(d,f,e,a))return{i:e,v:f}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,c,d){a!=Array.prototype&&a!=Object.prototype&&(a[c]=d.value)};
$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(a,c,d,b){if(c){d=$jscomp.global;a=a.split(".");for(b=0;b<a.length-1;b++){var e=a[b];e in d||(d[e]={});d=d[e]}a=a[a.length-1];b=d[a];c=c(b);c!=b&&null!=c&&$jscomp.defineProperty(d,a,{configurable:!0,writable:!0,value:c})}};
$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,d){return $jscomp.findInternal(this,a,d).v}},"es6","es3");
var hiweb_field_type_image={init:function(a){var c=jQuery(a.target);if(0!==c.length)c.on("click","[data-click]",function(a){a.preventDefault();switch(jQuery(this).attr("data-click")){case "select":hiweb_field_type_image.click_wp_media(c);break;case "remove":c.find("[data-image-place]").css({"background-image":""});c.attr("data-has-file","0").find("input[name]").val("");break;case "edit":hiweb_field_type_image.click_wp_media(c)}})},click_wp_media:function(a){var c=wp.media({title:"\u0412\u044b\u0431\u043e\u0440 \u0444\u0430\u0439\u043b\u0430",
multiple:!1,button:{text:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0444\u0430\u0439\u043b"},library:{type:"image"}}),d=a.find("input[name]");if(""!=d.val())c.on("open",function(){var a=c.state().get("selection");attachment=wp.media.attachment(d.val());attachment.fetch();a.add(attachment?[attachment]:[])});c.on("select",function(){c.state().get("selection").forEach(function(b,c){b=b.toJSON();if(b.hasOwnProperty("id")){var d=c="",e="";b.hasOwnProperty("icon")&&(c=b.icon);if(b.hasOwnProperty("sizes")){b.sizes.hasOwnProperty("medium")?
c=b.sizes.medium.url:b.sizes.hasOwnProperty("thumbnail")&&(c=b.sizes.thumbnail.url);for(var g in b.sizes)if(b.sizes[g].width>=a.width()){c=b.sizes[g].url;break}}if(b.icon===c)for(var h in b.sizes){c=b.sizes[h].url;break}b.hasOwnProperty("editLink")&&(d=b.editLink);b.hasOwnProperty("url")&&(e=b.url);a.find("[data-image-place]").css({"background-image":"url("+c+")"});a.attr("data-file-mime",b.mime).attr("data-has-file","1").attr("data-attachment-id",b.id);a.find('[data-link="edit_link"]').attr("href",
d);a.find('[data-link="url"]').attr("href",e);a.find("input").val(b.id)}})});c.open()}};jQuery("body").on("field_init",'.hiweb-field_image[data-field-init="0"]',hiweb_field_type_image.init);
